(function(){"use strict";var t={1085:function(t,e,n){var o=n(7195),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("header",{staticClass:"app-header"},[e("h1",{staticClass:"fw-bold ms-2"},[t._v(t._s(t.database.title.title))]),e("p",[t._v(t._s(t.database.title.description))])]),e("type-selector",{attrs:{types:t.database.types},on:{typeChanged:t.onTypeChanged}}),e("product-list",{attrs:{products:t.database.products,maximal:t.maximal,currentType:t.currentType}}),e("contacts",{attrs:{contacts:t.database.contacts}})],1)},a=[],i=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"type-selector"},t._l(t.types,(function(n,o){return e("div",{key:o},[e("button",{on:{click:function(e){return t.onTypeClicked(n.id)}}},[t._v(t._s(n.name))])])})),0)])},r=[],c={name:"type-selector",props:["types"],emits:["typeChanged"],methods:{onTypeClicked:function(t){this.$emit("typeChanged",t)}},data:function(){return{maxAmount:30}}},u=c,l=n(1001),d=(0,l.Z)(u,i,r,!1,null,null,null),p=d.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"productList"}},[t._l(t.filteredProducts,(function(n,o){return e("section",{key:o,staticClass:"product"},[e("div",{staticClass:"product__photo"},[e("div",{staticClass:"photo-container"},[e("div",{staticClass:"photo-main"},[e("img",{attrs:{src:n.image}})])])]),e("div",{staticClass:"product__info"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(n.name))]),e("span",[t._v("Артикул: "+t._s(n.id))])]),e("div",{staticClass:"price"},[e("span",[t._v(t._s(n.price)+" ₽")]),t._v(" "),e("span",{staticClass:"weight_for_price"},[t._v(" / "+t._s(n.weight_for_price)+" грамм")])]),e("div",{staticClass:"description"},[e("h3",[t._v("ОПИСАНИЕ")]),e("ul",[e("li",[t._v("Цвет: "+t._s(n.color))]),e("li",[t._v("Состав: "+t._s(n.ingredients))]),e("li",[t._v("Нить: "+t._s(n.length))]),e("li",[t._v("В наличии: "+t._s(n.available)+" грамм")]),e("li",[t._v(t._s(n.description))])])]),e("button",{staticClass:"buy--btn",on:{click:function(e){return t.showModal(n)}}},[t._v("Купить")])])])})),e("BuyModal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{product:t.currentProduct},on:{close:t.closeModal}})],2)},v=[],f=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"buy-modal-fade"}},[e("div",{staticClass:"buy-modal-backdrop"},[e("div",{staticClass:"buy-modal"},[t.readyToClose?e("header",{staticClass:"buy-modal-header"},[t._v(" Заказ оформлен ")]):e("header",{staticClass:"buy-modal-header"},[t._v(" Оформление нового заказа: "+t._s(t.product.name)+" Артикул: "+t._s(t.product.id)+" ")]),t.readyToClose?e("section",{staticClass:"buy-modal-body"},[e("h3",[t._v("Спасибо за заказ!")]),e("p",[t._v("Наш оператор свяжется с вами при первой возможности!")])]):e("section",{staticClass:"buy-modal-body"},[e("table",[e("tbody",[e("tr",[e("td",[t._v("Описание:")]),e("td",[t._v(t._s(t.product.description))])]),e("tr",[e("td",[t._v("Цена:")]),e("td",[t._v(t._s(t.product.price)+" руб. за "+t._s(t.product.weight_for_price)+" грамм")])]),e("tr",[e("td",[t._v("Количество:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})])]),e("tr",[e("td",[t._v("Контактные данные:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo,expression:"contactInfo"}],attrs:{type:"text"},domProps:{value:t.contactInfo},on:{input:function(e){e.target.composing||(t.contactInfo=e.target.value)}}})])]),e("tr",[e("td",[t._v("Адрес доставки:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),e("tr",[e("td",[t._v("Комментарий к заказу:")]),e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])])])]),e("footer",{staticClass:"buy-modal-footer"},[t.readyToClose?e("div",{staticClass:"buttons-container-centered"},[e("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.close}},[e("div",[t._v(" Закрыть ")])])]):e("div",{staticClass:"buttons-container"},[e("button",{staticClass:"btn-green button-left btn-cancel",attrs:{type:"button"},on:{click:t.close}},[e("div",[t._v(" Отмена ")])]),e("button",{staticClass:"btn-green button-right",attrs:{type:"button"},on:{click:t.buy}},[e("div",[t._v(" Заказать ")])])])])])])])},_=[],h=n(1412),y={name:"BuyModal",props:["product"],data:function(){return{quantity:1,contactInfo:"",address:"",comment:"",readyToClose:!1}},methods:{close(){this.$emit("close")},buy(){let t={name:this.product.name,id:this.product.id,quantity:this.quantity,contacts:this.contactInfo,address:this.address,comment:this.comment};h.ZP.init("29IJ0jY4u-_sIZ-Nb"),h.ZP.send("service_mp2brdj","template_vhyvgkb",t).then((function(t){console.log("SUCCESS!",t.status,t.text)}),(function(t){console.log("FAILED...",t)})),this.readyToClose=!0}}},b=y,g=(0,l.Z)(b,f,_,!1,null,null,null),C=g.exports,w={name:"product-list",props:["products","maximal","currentType"],components:{BuyModal:C},data:function(){return{isModalVisible:!1,currentProduct:{},filteredProducts:[]}},watch:{currentType(t,e){this.filteredProducts=0===t?this.products:this.products.filter((function(e){return e.type_id===t}))},products(t,e){this.filteredProducts=this.products}},methods:{showModal(t){this.currentProduct=t,this.isModalVisible=!0},closeModal(){this.isModalVisible=!1}}},x=w,P=(0,l.Z)(x,m,v,!1,null,"517758de",null),T=P.exports,k=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"contacts-footer"},[e("div",{staticClass:"contacts"},[e("p",{staticClass:"contacts-header"},[t._v("Наши контакты:")]),e("br"),e("table",[e("tbody",t._l(this.contacts,(function(n,o){return e("tr",{key:o},[e("td",[t._v(t._s(n.title)+": ")]),e("td",[e("a",{attrs:{href:n.href}},[t._v(t._s(n.value))])])])})),0)])])])},M=[],j={name:"contacts-footer",props:["contacts"]},O=j,S=(0,l.Z)(O,k,M,!1,null,null,null),Z=S.exports,I=JSON.parse('{"title":{"title":"Бобинки-пушинки","page_title":"Бобинки-пушинки: интернет магазин","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mattis rutrum lacus ut aliquet. Nulla molestie dictum vehicula. Nunc ut mi consectetur, tempor turpis eget, fermentum erat."},"contacts":[],"types":[],"products":[]}'),N={name:"App",data:function(){return{maximal:0,products:[],database:I,currentType:0}},components:{ProductList:T,TypeSelector:p,Contacts:Z},methods:{onTypeChanged:function(t){this.currentType=t}},mounted:function(){},created(){document.title=this.database.title.page_title,fetch("/internet_shop/database.json").then((t=>t.json())).then((t=>this.database=t))}},q=N,V=(0,l.Z)(q,s,a,!1,null,null,null),L=V.exports;n(4894);o.ZP.config.productionTip=!1,new o.ZP({render:t=>t(L)}).$mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,a){if(!o){var i=1/0;for(l=0;l<t.length;l++){o=t[l][0],s=t[l][1],a=t[l][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(r=!1,a<i&&(i=a));if(r){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[o,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,a,i=o[0],r=o[1],c=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var l=c(n)}for(e&&e(o);u<i.length;u++)a=i[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},o=self["webpackChunkmyproject"]=self["webpackChunkmyproject"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1085)}));o=n.O(o)})();
//# sourceMappingURL=app.4fa63af4.js.map