(function(){"use strict";var t={8267:function(t,e,n){var s=n(7195),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("header",{staticClass:"app-header"},[e("h1",{staticClass:"fw-bold ms-2"},[t._v(t._s(t.database.title.title))]),e("p",[t._v(t._s(t.database.title.description))])]),e("type-selector",{attrs:{types:t.database.types},on:{typeChanged:t.onTypeChanged}}),e("product-list",{attrs:{products:t.database.products,maximal:t.maximal,currentType:t.currentType}}),e("contacts",{attrs:{contacts:t.database.contacts}})],1)},i=[],r=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"type-selector"},[e("ul",{staticClass:"breadcrumb"},t._l(t.types,(function(n,s){return e("li",{key:s},[s!==t.currentIndex?e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.onTypeClicked(n.id)}}},[t._v(t._s(n.name))]):e("span",{staticClass:"current-link"},[t._v(t._s(n.name))])])})),0)]),t.typeDescription?e("section",{staticClass:"type-description"},[e("p",[t._v(t._s(t.typeDescription))])]):t._e()])},a=[],c={name:"type-selector",props:["types"],emits:["typeChanged"],methods:{onTypeClicked:function(t){this.currentIndex=t,this.$emit("typeChanged",t)}},data:function(){return{currentIndex:0}},computed:{typeDescription(){const t=this.types.find((t=>t.id==this.currentIndex));return t?.description??""}}},u=c,l=n(1001),d=(0,l.Z)(u,r,a,!1,null,null,null),p=d.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"productList"}},[t._l(t.filteredProducts,(function(n,s){return e("section",{key:s,staticClass:"product"},[e("div",{staticClass:"product__photo"},[e("div",{staticClass:"photo-container"},[e("div",{staticClass:"photo-main"},[e("img",{attrs:{src:n.image}})])])]),e("div",{staticClass:"product__info"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(n.name))]),e("span",[t._v("Артикул: "+t._s(n.id))])]),e("div",{staticClass:"price"},[e("span",[t._v(t._s(n.price)+" ₽")]),t._v(" "),e("span",{staticClass:"weight_for_price"},[t._v(" / "+t._s(n.weight_for_price)+" грамм")])]),e("div",{staticClass:"description"},[e("h3",[t._v("ОПИСАНИЕ")]),e("ul",[e("li",[t._v("Цвет: "+t._s(n.color))]),e("li",[t._v("Состав: "+t._s(n.ingredients))]),e("li",[t._v("Нить: "+t._s(n.length))]),e("li",[t._v("В наличии: "+t._s(n.available))]),e("li",[t._v(t._s(n.description))])])]),e("button",{staticClass:"buy--btn",on:{click:function(e){return t.showModal(n)}}},[t._v("Купить")])])])})),e("BuyModal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{product:t.currentProduct},on:{close:t.closeModal}})],2)},m=[],f=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"buy-modal-fade"}},[e("div",{staticClass:"buy-modal-backdrop"},[e("div",{staticClass:"buy-modal"},[t.readyToClose?e("header",{staticClass:"buy-modal-header"},[t._v(" Заказ оформлен ")]):e("header",{staticClass:"buy-modal-header"},[t._v(" Оформление нового заказа: "+t._s(t.product.name)+" Артикул: "+t._s(t.product.id)+" ")]),t.readyToClose?e("section",{staticClass:"buy-modal-body"},[e("h3",[t._v("Спасибо за заказ!")]),e("p",[t._v("Наш оператор свяжется с вами при первой возможности!")])]):e("section",{staticClass:"buy-modal-body"},[e("table",[e("tbody",[e("tr",[e("td",[t._v("Описание:")]),e("td",[t._v(t._s(t.product.description))])]),e("tr",[e("td",[t._v("Цена:")]),e("td",[t._v(t._s(t.product.price)+" руб. за "+t._s(t.product.weight_for_price)+" грамм")])]),e("tr",[e("td",[t._v("Количество:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})])]),e("tr",[e("td",[t._v("Контактные данные:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo,expression:"contactInfo"}],attrs:{type:"text"},domProps:{value:t.contactInfo},on:{input:function(e){e.target.composing||(t.contactInfo=e.target.value)}}})])]),e("tr",[e("td",[t._v("Адрес доставки:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),e("tr",[e("td",[t._v("Комментарий к заказу:")]),e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])])])]),e("footer",{staticClass:"buy-modal-footer"},[t.readyToClose?e("div",{staticClass:"buttons-container-centered"},[e("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.close}},[e("div",[t._v(" Закрыть ")])])]):e("div",{staticClass:"buttons-container"},[e("button",{staticClass:"btn-green button-left btn-cancel",attrs:{type:"button"},on:{click:t.close}},[e("div",[t._v(" Отмена ")])]),e("button",{staticClass:"btn-green button-right",attrs:{type:"button"},on:{click:t.buy}},[e("div",[t._v(" Заказать ")])])])])])])])},_=[],h=n(1412),y={name:"BuyModal",props:["product"],data:function(){return{quantity:1,contactInfo:"",address:"",comment:"",readyToClose:!1}},methods:{close(){this.$emit("close")},buy(){let t={name:this.product.name,id:this.product.id,quantity:this.quantity,contacts:this.contactInfo,address:this.address,comment:this.comment};h.ZP.init("29IJ0jY4u-_sIZ-Nb"),h.ZP.send("service_mp2brdj","template_vhyvgkb",t).then((function(t){console.log("SUCCESS!",t.status,t.text)}),(function(t){console.log("FAILED...",t)})),this.readyToClose=!0}}},b=y,C=(0,l.Z)(b,f,_,!1,null,null,null),g=C.exports,x={name:"product-list",props:["products","maximal","currentType"],components:{BuyModal:g},data:function(){return{isModalVisible:!1,currentProduct:{},filteredProducts:[]}},watch:{currentType(t,e){this.filteredProducts=0===t?this.products:this.products.filter((function(e){return e.type_id===t}))},products(t,e){this.filteredProducts=this.products}},methods:{showModal(t){this.currentProduct=t,this.isModalVisible=!0},closeModal(){this.isModalVisible=!1}}},w=x,P=(0,l.Z)(w,v,m,!1,null,"36df335b",null),T=P.exports,k=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"contacts-footer"},[e("div",{staticClass:"contacts"},[e("p",{staticClass:"contacts-header"},[t._v("Наши контакты:")]),e("br"),e("table",[e("tbody",t._l(this.contacts,(function(n,s){return e("tr",{key:s},[e("td",[t._v(t._s(n.title)+": ")]),e("td",[e("a",{attrs:{href:n.href}},[t._v(t._s(n.value))])])])})),0)])])])},j=[],M={name:"contacts-footer",props:["contacts"]},O=M,I=(0,l.Z)(O,k,j,!1,null,null,null),S=I.exports,Z=JSON.parse('{"title":{"title":"Бобинки-пушинки","page_title":"Бобинки-пушинки: интернет магазин","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mattis rutrum lacus ut aliquet. Nulla molestie dictum vehicula. Nunc ut mi consectetur, tempor turpis eget, fermentum erat."},"contacts":[],"types":[],"products":[]}'),N={name:"App",data:function(){return{maximal:0,products:[],database:Z,currentType:0}},components:{ProductList:T,TypeSelector:p,Contacts:S},methods:{onTypeChanged:function(t){this.currentType=t}},mounted:function(){},created(){document.title=this.database.title.page_title,fetch("/internet_shop/database.json").then((t=>t.json())).then((t=>this.database=t))}},q=N,V=(0,l.Z)(q,o,i,!1,null,null,null),D=V.exports;n(4894);s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(D)}).$mount("#app")}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,i){if(!s){var r=1/0;for(l=0;l<t.length;l++){s=t[l][0],o=t[l][1],i=t[l][2];for(var a=!0,c=0;c<s.length;c++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(a=!1,i<r&&(r=i));if(a){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[s,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,r=s[0],a=s[1],c=s[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(e&&e(s);u<r.length;u++)i=r[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},s=self["webpackChunkmyproject"]=self["webpackChunkmyproject"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(8267)}));s=n.O(s)})();
//# sourceMappingURL=app.5e49ad77.js.map